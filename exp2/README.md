# RankedRetrivalModel
based on inverted index and support ranked retrival 

**学号：201800130119
姓名：刘欣
**

本次实验在实验一的基础上，对查询的相关结果排序，返回topK个相关的结果。

## 一、实验步骤：
1.倒排索引生成与改进。

在上一次实验中，仅仅记录了某个词在某一条tweets中出现与否，这里改进一下，记录词项在文档中出现的频数（TF）

2.在倒排表的基础上，统计词项频数DF(document frequency)对倒排表中每个词项对应tweets出现的数目求和即可。

3.计算各个tweets的长度。

4.query与文档相似度评分计算。

采用tf-idf模型，统计query中出现的词，对于每一个出现的词，计算Wtq并对倒排表中对应id计算Wtd。
scores[ID] += wtq*wtd

5.sort

对结果排序并返回输出topK个结果。

## 二、结果分析与反思
本次实验能够对于简单语句查询返回相关结果，并能对结果相关性打分。

实验测试部分结果见 pic

通过本次实验掌握了文档与查询相关性的一种计算方法tf-idf。为了避免文本长度对结果的影响，最后评分除以文本长度。

tf-idf计算简单，但是忽略了文本内在的上下文之间的联系等，有些文档的相似度关系处理可能不合理。

总体而言，本次实验对于文本数据的处理更加熟练。
